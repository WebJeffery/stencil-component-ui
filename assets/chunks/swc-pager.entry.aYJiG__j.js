var h=(e,r,t)=>new Promise((n,i)=>{var c=s=>{try{o(t.next(s))}catch(g){i(g)}},p=s=>{try{o(t.throw(s))}catch(g){i(g)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(c,p);o((t=t.apply(e,r)).next())});import{r as l,c as d,h as a,H as f}from"./theme.BibeGvl8.js";import"./framework.DIU08dKJ.js";const u=":host{display:flex;line-height:30px;font-size:var(--ivy-font-size, 14px)}ul{list-style:none;display:inline-flex;margin:0 12px;padding:0}.pager-item{cursor:pointer;width:30px;height:30px;line-height:30px;text-align:center;border-radius:2px;transition:background-color 0.15s, color 0.15s;user-select:none}.pager-item:hover{color:var(--ivy-color-primary, #409eff)}.pager-item-active{color:var(--ivy-color-primary, #409eff);cursor:default}.pager-btn{cursor:pointer;user-select:none}.pager-btn:hover{color:var(--ivy-color-primary, #409eff)}",P=u,m=class{constructor(e){l(this,e),this.currentChange=d(this,"current-change",7),this.pager={current:1,size:10,sizes:[],total:0,layout:[],maxPage:0},this.layout="prev,pager,next",this.defaultPage="1",this.size="10",this.sizes="",this.total="0",this.currentPage="1",this.startPage=1,this.pageCount=7}watchPropHandler(e){this.currentPage=e}connectedCallback(){this.currentPage=this.defaultPage,this.pager.current=parseInt(this.defaultPage),this.pager.size=parseInt(this.size),this.pager.sizes=this.sizes.split(",").map(r=>parseInt(r.trim()))||[];const e=parseInt((this.pager.total/this.pager.size).toFixed(0));this.pager.maxPage=this.pager.total%this.pager.size===0?e:e+1}watchStateHandler(e,r){const t=parseInt(e);t%this.pageCount===0&&(this.startPage===t&&r>e?this.startPage=t-this.pageCount+1:this.startPage=t)}pageChangedHandler(e){this.currentPage!=e&&(this.currentPage=e,this.currentChange.emit(e))}componentWillRender(){this.pager.total=parseInt(this.total)}renderPagerItem(e,r){return new Array(r).fill(e).map((t,n)=>{const i=n+t,c=["pager-item"];return this.currentPage==i.toString()&&c.push("pager-item-active"),a("li",{class:c.join(" "),onClick:()=>{this.pageChangedHandler(i)}},i)})}render(){return a(f,{key:"6ca7a2783304a04063d8f369eb52c7620c58b52d"},a("div",{key:"8989fae894c6b1d33f2d262f5c1952918c0ff71a",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);e!==1&&this.pageChangedHandler(e-1)}},a("slot",{key:"b9f2fd556cfeb6624c9d37bcabf5f385441da8b7",name:"prev"},a("span",{key:"c0801c31d4df5783368447158a65e6f60eb6e797"},"Prev"))),a("ul",{key:"486e2b82a4a6944a20a90252ffaed45e7cdfb06f"},this.renderPagerItem(this.startPage,this.pageCount)),a("div",{key:"c92b7610adbcf2cfab3938fe9b6911f5c4430daa",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);this.pageChangedHandler(e+1)}},a("slot",{key:"63aedc68acc65f22f5d28efec91f82dea089e610",name:"next"},a("span",{key:"4dca05bfd594f717a237170f53abb3e6d4f6e935"},"Next"))))}setTotal(e){return h(this,null,function*(){if(e<0)throw new Error("total 属性必须是正整数");this.pager.total=e})}static get watchers(){return{defaultPage:["watchPropHandler"],currentPage:["watchStateHandler"]}}};m.style=P;export{m as swc_pager};
