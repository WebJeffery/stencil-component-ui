var h=(e,r,t)=>new Promise((n,i)=>{var c=s=>{try{o(t.next(s))}catch(g){i(g)}},p=s=>{try{o(t.throw(s))}catch(g){i(g)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(c,p);o((t=t.apply(e,r)).next())});import{r as l,c as d,h as a,H as f}from"./theme.BlE6xyWi.js";import"./framework.DIU08dKJ.js";const u=":host{display:flex;line-height:30px;font-size:var(--ivy-font-size, 14px)}ul{list-style:none;display:inline-flex;margin:0 12px;padding:0}.pager-item{cursor:pointer;width:30px;height:30px;line-height:30px;text-align:center;border-radius:2px;transition:background-color 0.15s, color 0.15s;user-select:none}.pager-item:hover{color:var(--ivy-color-primary, #409eff)}.pager-item-active{color:var(--ivy-color-primary, #409eff);cursor:default}.pager-btn{cursor:pointer;user-select:none}.pager-btn:hover{color:var(--ivy-color-primary, #409eff)}",P=u,m=class{constructor(e){l(this,e),this.currentChange=d(this,"current-change",7),this.pager={current:1,size:10,sizes:[],total:0,layout:[],maxPage:0},this.layout="prev,pager,next",this.defaultPage="1",this.size="10",this.sizes="",this.total="0",this.currentPage="1",this.startPage=1,this.pageCount=7}watchPropHandler(e){this.currentPage=e}connectedCallback(){this.currentPage=this.defaultPage,this.pager.current=parseInt(this.defaultPage),this.pager.size=parseInt(this.size),this.pager.sizes=this.sizes.split(",").map(r=>parseInt(r.trim()))||[];const e=parseInt((this.pager.total/this.pager.size).toFixed(0));this.pager.maxPage=this.pager.total%this.pager.size===0?e:e+1}watchStateHandler(e,r){const t=parseInt(e);t%this.pageCount===0&&(this.startPage===t&&r>e?this.startPage=t-this.pageCount+1:this.startPage=t)}pageChangedHandler(e){this.currentPage!=e&&(this.currentPage=e,this.currentChange.emit(e))}componentWillRender(){this.pager.total=parseInt(this.total)}renderPagerItem(e,r){return new Array(r).fill(e).map((t,n)=>{const i=n+t,c=["pager-item"];return this.currentPage==i.toString()&&c.push("pager-item-active"),a("li",{class:c.join(" "),onClick:()=>{this.pageChangedHandler(i)}},i)})}render(){return a(f,{key:"f1270023ddf4399620e8b5d1e35ed43c48110f3d"},a("div",{key:"6c8affd8ef04307ccbb8285985f3cccea2b42f24",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);e!==1&&this.pageChangedHandler(e-1)}},a("slot",{key:"dc2d55f4e055223c21a8e70f279c0f7e2807375b",name:"prev"},a("span",{key:"8fde6d0936512b5df3cfd3c9dd8aef51a4c6d9c2"},"Prev"))),a("ul",{key:"22d4ecbdc0d479a44c88efc6649d6e194fbd153e"},this.renderPagerItem(this.startPage,this.pageCount)),a("div",{key:"e25c524b40281f0a71e39ec08f20a4a0fea33b7b",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);this.pageChangedHandler(e+1)}},a("slot",{key:"3a192cd52fb363b101ceb08cda979e324c81e323",name:"next"},a("span",{key:"398b98c7e23653e92dada9236622daf573f14293"},"Next"))))}setTotal(e){return h(this,null,function*(){if(e<0)throw new Error("total 属性必须是正整数");this.pager.total=e})}static get watchers(){return{defaultPage:["watchPropHandler"],currentPage:["watchStateHandler"]}}};m.style=P;export{m as swc_pager};
