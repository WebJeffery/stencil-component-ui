import{r as d,b as f,h as a,H as h,w as u,f as m,g as p}from"./theme.DBVOodcl.js";import"./framework.B8ZbuilT.js";const b=":host{display:block;position:relative;height:200px;overflow:hidden}.wrap__hide{display:none}.wrap{height:100%;min-width:100%;display:flex;transition:transform 0.3s}.indicator{position:absolute;bottom:0;left:50%;transform:translateX(-50%)}.indicator-item{display:inline-flex;width:10px;height:3px;background-color:gray;margin:0 10px;border-radius:1px}.indicator-item:hover{cursor:pointer}.indicator-item[data-active]{background-color:#409eff}",w=b,y=class{constructor(t){d(this,t),this.slotEl=void 0,this.slotChildren=[],this.carouselItemList=void 0,this.defaultActive="1"}propDefaultActiveWatcher(t){if(Number(t)!=t)throw new Error('prop defaultActive type is must be string number,like this "1"')}handlerClick(t){const e=t.target,o=e.nodeName,n=e.getAttribute("class");if(console.log(o,n),o==="A"&&n==="indicator-item"){const i=e.getAttribute("data-index"),s=this.root.shadowRoot.querySelector(".wrap"),r=s.children;console.log(s,i,r),s.style.transform=`translateX(-${Number(i)/r.length*100}%)`,e.setAttribute("data-active",""),f(e).forEach(c=>{c.removeAttribute("data-active")})}}render(){return a(h,{key:"47d772df0ffa51002094e36d70ab7a9381522655"},a("div",{key:"18a0a4238878779a97fe4c2ef2a023e690d1fefe",class:"wrap"}),a("div",{key:"1b0b5c9c838b2962c432a326f57f11facc145fb0",class:"wrap__hide"},a("slot",{key:"ab19c81ebfd08a634df3770e55d65b87acb4ef0d",ref:t=>this.slotEl=t})),a("div",{key:"8b320b1d9e7fb427d2b7c83a8f7f1f3bb30f4a9e",class:"indicator"},a("slot",{key:"98ea584d9a77f47d8f2db2a20fca65d685057071",name:"indicator"},a("div",{key:"4a65d7ff10c3c9b0f95d6db82b58749f89301238",class:"indicator-default",onClick:this.handlerClick.bind(this)},this.slotChildren.map((t,e)=>Number(this.defaultActive)==e+1?a("a",{"data-active":!0,"data-index":e+1,class:"indicator-item"}):a("a",{"data-index":e+1,class:"indicator-item"}))))))}componentWillLoad(){u(()=>{this.slotChildren=m(this.root,"swc-carousel-item");const t=this.root.querySelectorAll("swc-carousel-item"),e=t.length,o=t.item(0).cloneNode(!0),n=t.item(e-1).cloneNode(!0),i=document.createElement("div"),s=1/(e+2)*100;o.style.flex=`0 0 ${s}%`,n.style.flex=`0 0 ${s}%`,i.appendChild(o),t.forEach(l=>{l.style.flex=`0 0 ${s}%`,i.appendChild(l)}),i.appendChild(n);const r=this.root.shadowRoot.querySelector(".wrap");r&&(r.style.width=`${(t.length+2)*100}%`,r.innerHTML=i.innerHTML,r.style.transform=`translateX(-${Number(this.defaultActive)/(e+2)*100}%)`)})}get root(){return p(this)}static get watchers(){return{defaultActive:["propDefaultActiveWatcher"]}}};y.style=w;export{y as swc_carousel};
