var h=(e,r,t)=>new Promise((n,i)=>{var c=s=>{try{o(t.next(s))}catch(g){i(g)}},p=s=>{try{o(t.throw(s))}catch(g){i(g)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(c,p);o((t=t.apply(e,r)).next())});import{r as l,c as d,h as a,H as f}from"./theme.BOCtV-v7.js";import"./framework.DIU08dKJ.js";const u=":host{display:flex;line-height:30px;font-size:var(--ivy-font-size, 14px)}ul{list-style:none;display:inline-flex;margin:0 12px;padding:0}.pager-item{cursor:pointer;width:30px;height:30px;line-height:30px;text-align:center;border-radius:2px;transition:background-color 0.15s, color 0.15s;user-select:none}.pager-item:hover{color:var(--ivy-color-primary, #409eff)}.pager-item-active{color:var(--ivy-color-primary, #409eff);cursor:default}.pager-btn{cursor:pointer;user-select:none}.pager-btn:hover{color:var(--ivy-color-primary, #409eff)}",P=u,b=class{constructor(e){l(this,e),this.currentChange=d(this,"current-change",7),this.pager={current:1,size:10,sizes:[],total:0,layout:[],maxPage:0},this.layout="prev,pager,next",this.defaultPage="1",this.size="10",this.sizes="",this.total="0",this.currentPage="1",this.startPage=1,this.pageCount=7}watchPropHandler(e){this.currentPage=e}connectedCallback(){this.currentPage=this.defaultPage,this.pager.current=parseInt(this.defaultPage),this.pager.size=parseInt(this.size),this.pager.sizes=this.sizes.split(",").map(r=>parseInt(r.trim()))||[];const e=parseInt((this.pager.total/this.pager.size).toFixed(0));this.pager.maxPage=this.pager.total%this.pager.size===0?e:e+1}watchStateHandler(e,r){const t=parseInt(e);t%this.pageCount===0&&(this.startPage===t&&r>e?this.startPage=t-this.pageCount+1:this.startPage=t)}pageChangedHandler(e){this.currentPage!=e&&(this.currentPage=e,this.currentChange.emit(e))}componentWillRender(){this.pager.total=parseInt(this.total)}renderPagerItem(e,r){return new Array(r).fill(e).map((t,n)=>{const i=n+t,c=["pager-item"];return this.currentPage==i.toString()&&c.push("pager-item-active"),a("li",{class:c.join(" "),onClick:()=>{this.pageChangedHandler(i)}},i)})}render(){return a(f,{key:"b99114a98fa33fb958c468559f971d81ff2d1d73"},a("div",{key:"0de190211bc7094ff43ad5437907b7feb76e0eb0",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);e!==1&&this.pageChangedHandler(e-1)}},a("slot",{key:"d563841a73e5f2508ca399db2db765fafc85b891",name:"prev"},a("span",{key:"04ea38733a61e2af276317fafc30c6d851120c65"},"Prev"))),a("ul",{key:"08543e220c80f2da0daeb5054923d1dd73e26c4f"},this.renderPagerItem(this.startPage,this.pageCount)),a("div",{key:"70b714f0db07c898cb180b02e95e870e361c9b42",class:"pager-btn",onClick:()=>{const e=parseInt(this.currentPage);this.pageChangedHandler(e+1)}},a("slot",{key:"d9797f258c28a11e5ff6b4758535f55111f78f2a",name:"next"},a("span",{key:"6b79c182dd686f8b083ff536d43bb269ccdf891f"},"Next"))))}setTotal(e){return h(this,null,function*(){if(e<0)throw new Error("total 属性必须是正整数");this.pager.total=e})}static get watchers(){return{defaultPage:["watchPropHandler"],currentPage:["watchStateHandler"]}}};b.style=P;export{b as swc_pager};
