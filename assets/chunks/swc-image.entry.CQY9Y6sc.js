import{r,h as e,H as l,g as n}from"./theme.CN6nmgZd.js";import"./framework.DIU08dKJ.js";const c=":host{display:inline-block;width:var(--ivy-image-width);height:var(--ivy-image-height);box-sizing:border-box;position:relative;overflow:hidden}.image-inner{width:var(--ivy-image-width, 100%);height:var(--ivy-image-height, 100%);object-fit:var(--ivy-image-fit, fill)}.image-placeholder{width:100%;height:100%;position:absolute;top:0;left:0;transition:all 0.3s;z-index:-1;background:#f5f7fa}.image-placeholder{z-index:1;opacity:1;display:flex;justify-content:center;align-items:center;font-size:14px;color:#c0c4cc;vertical-align:middle}.image-error{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:14px;color:#c0c4cc;vertical-align:middle;transition:all 0.3s;z-index:-1;background:#f5f7fa}.ivy-icon{width:18px;height:18px;animation:spin 1.8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}",o=c,d=class{constructor(t){r(this,t),this.scrollHandler=()=>{new IntersectionObserver((i,s)=>{i.forEach(a=>{a.isIntersecting&&(s.disconnect(),this.imgSrc=this.src)})}).observe(this.el)},this.src=void 0,this.fit="fill",this.alt=void 0,this.lazy=!1,this.imgSrc="",this.success=!0,this.loadState={},this.errState={}}loadHandler(){this.errState={opacity:0,zIndex:-1},this.loadState={opacity:0,zIndex:-1}}imgErrorHandler(){this.success=!1,this.loadState={opacity:0,zIndex:-1},this.errState={opacity:1,zIndex:1}}listenScrollHandler(){this.lazy&&requestAnimationFrame(this.scrollHandler)}componentWillLoad(){this.lazy?this.imgSrc="":this.imgSrc=this.src}render(){return e(l,{key:"2d23e0a54ee077849739c00edfd619ae86645b77"},e("img",{key:"242457c5884b993f98828b59b57cec766afdabfd",class:"image-inner",src:this.imgSrc,style:{display:this.success?null:"none"},alt:this.alt,onLoad:this.loadHandler.bind(this),onError:this.imgErrorHandler.bind(this)}),e("div",{key:"383b873018c40ac6cdade944e91690e5c548b963",class:"image-error",style:Object.assign(Object.assign({},this.errState),{display:this.success?"none":"flex"})},e("slot",{key:"3ed70fe641c4758ca0779e30de4a7a4809645bc1",name:"error"},"加载失败")),e("div",{key:"a477c3e614f3137e7333b8364350b1e794c3d2ce",class:"image-placeholder",style:this.loadState},e("slot",{key:"399f480ecb5397886dfed03e561c2e0f0cd9e696",name:"placeholder"},e("svg",{key:"270e86bed6a398f37cd8e6801a5018ddd13e6eb7",viewBox:"0 0 1024 1024",class:"ivy-icon",xmlns:"http://www.w3.org/2000/svg",version:"1.1","aria-hidden":"true"},e("path",{key:"5f560e7872f285f2623bee44b0306452ee5e4bcf",d:"M512 64q14.016 0 23.008 8.992T544 96v192q0 14.016-8.992 23.008T512 320t-23.008-8.992T480 288V96q0-14.016 8.992-23.008T512 64z m0 640q14.016 0 23.008 8.992T544 736v192q0 14.016-8.992 23.008T512 960t-23.008-8.992T480 928v-192q0-14.016 8.992-23.008T512 704z m448-192q0 14.016-8.992 23.008T928 544h-192q-14.016 0-23.008-8.992T704 512t8.992-23.008T736 480h192q14.016 0 23.008 8.992T960 512z m-640 0q0 14.016-8.992 23.008T288 544H96q-14.016 0-23.008-8.992T64 512t8.992-23.008T96 480h192q14.016 0 23.008 8.992T320 512zM195.008 195.008q10.016-8.992 23.008-8.992t22.016 8.992l136 136q8.992 10.016 8.992 22.496t-9.504 22.016-22.016 9.504-22.496-8.992l-136-136q-8.992-8.992-8.992-22.016t8.992-23.008zM648 648q10.016-10.016 22.496-10.016t22.496 10.016l136 136q8.992 8.992 8.992 22.016t-9.504 22.496-22.496 9.504-22.016-8.992l-136-136q-10.016-10.016-10.016-22.496t10.016-22.496z m180.992-452.992q8.992 10.016 8.992 23.008t-8.992 22.016l-136 136q-10.016 8.992-22.496 8.992t-22.016-9.504-9.504-22.016 8.992-22.496l136-136q8.992-8.992 22.016-8.992t23.008 8.992zM376 648q10.016 10.016 10.016 22.496t-10.016 22.496l-136 136q-8.992 8.992-22.016 8.992t-22.496-9.504-9.504-22.496 8.992-22.016l136-136q10.016-10.016 22.496-10.016t22.496 10.016z"})))))}get el(){return n(this)}};d.style=o;export{d as swc_image};
